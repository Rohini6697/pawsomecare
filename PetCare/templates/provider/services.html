{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Services | Pawsome Care</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/provider/services.css' %}">
</head>
<body>

<!-- ===== NAVBAR ===== -->
<nav class="navbar">
    <div class="logo-wrapper">
        <!-- Optional logo image -->
        <!-- <img src="{% static 'images/logo.png' %}" class="logo-img"> -->
        <div class="logo">Pawsome<span>Care</span></div>
    </div>

    <ul class="nav-links">
        <li><a href="{% url 'provider_home' %}">Dashboard</a></li>
        <li><a href="{% url 'bookings' provider.id %}">Bookings</a></li>
        <li><a href="{% url 'services' provider.id %}" class="active">Services</a></li>
    </ul>

    <a href="{% url 'goback' %}" class="btn-secondary">Logout</a>
</nav>

<!-- ===== PAGE CONTENT ===== -->
<div class="services-container">

    <div class="page-header">
        <h2>My Services ðŸ› </h2>
    </div>

    {% if services %}
        <div class="services-grid">

            {% for service, price in services.items %}
            <div class="service-card">

                <div class="service-header">
                    <h3>{{ service|title }}</h3>
                    <span class="price">â‚¹{{ price }}</span>
                </div>

                <!-- AVAILABLE SLOTS -->
                <div class="slot-section">
                    <h4>Available Time Slots</h4>

                    <ul class="slot-list">
                        {% for slot in timeslots %}
                            {% if slot.service_name == service and slot.is_available %}
                                <li>
                                    {{ slot.date|date:"d M Y" }} â€¢ 
                                    {{ slot.time|time:"h:i A" }}
                                </li>
                            {% endif %}
                        {% empty %}
                            <p class="empty">No time slots added</p>
                        {% endfor %}
                    </ul>
                </div>

                <!-- ADD SLOT FORM -->
                <form method="POST" class="slot-form">
                    {% csrf_token %}
                    <input type="hidden" name="service_name" value="{{ service }}">

                    <input type="date" name="date" required>
                    <input type="time" name="time" required>

                    <button type="submit">Add Slot</button>
                </form>

            </div>
            {% endfor %}

        </div>
    {% else %}
        <p class="no-services">No services added yet.</p>
    {% endif %}

</div>

</body>
</html>