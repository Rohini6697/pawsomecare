{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Profile | Pawsome Care</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/provider/edit_provider_profile.css' %}">
</head>
<body>

<!-- ===== NAVBAR ===== -->
<nav class="navbar">
    <div class="logo-wrapper">
        <div class="logo">Pawsome<span>Care</span></div>
    </div>

    <ul class="nav-links">
        <li><a href="{% url 'provider_home' %}">Dashboard</a></li>
        <li><a href="{% url 'services' provider.id %}">Services</a></li>
        <li><a href="{% url 'bookings' provider.id %}">Bookings</a></li>
    </ul>

    <a href="{% url 'goback' %}" class="btn-secondary">Logout</a>
</nav>

<!-- ===== PAGE WRAPPER ===== -->
<div class="page-wrapper">

    <!-- PROFILE HEADER CARD -->
    <div class="profile-header-card">
        <h2>{{ provider.full_name|default:"Your Name" }}</h2>
        <p>{{ provider.city|default:"City" }}</p>
        <span class="badge">
            {{ provider.provider_type|title }}
        </span>
    </div>

    <!-- FORM CARD -->
    <form method="post" class="form-card">
        {% csrf_token %}

        <!-- BASIC INFO -->
        <div class="section">
            <h3>Basic Information</h3>

            <div class="form-grid">
                <div>
                    <label>Full Name</label>
                    <input type="text" name="full_name" value="{{ provider.full_name }}">
                </div>

                <div>
                    <label>Phone Number</label>
                    <input type="text" name="phone_number" value="{{ provider.phone_number }}">
                </div>

                <div>
                    <label>Provider Type</label>
                    <select name="provider_type">
                        <option value="individual" {% if provider.provider_type == 'individual' %}selected{% endif %}>Individual</option>
                        <option value="organization" {% if provider.provider_type == 'organization' %}selected{% endif %}>Organization</option>
                    </select>
                </div>
            </div>

            <label>About You</label>
            <textarea name="bio">{{ provider.bio }}</textarea>
        </div>

        <!-- LOCATION -->
        <div class="section">
            <h3>Location</h3>

            <div class="form-grid">
                <div>
                    <label>City</label>
                    <input type="text" name="city" value="{{ provider.city }}">
                </div>

                <div>
                    <label>Pincode</label>
                    <input type="text" name="pincode" value="{{ provider.pincode }}">
                </div>

                <div class="full">
                    <label>Address</label>
                    <input type="text" name="address" value="{{ provider.address }}">
                </div>

                <div>
                    <label>Travel Distance (km)</label>
                    <input type="number" name="travel_distance" value="{{ provider.travel_distance }}">
                </div>
            </div>
        </div>

        <!-- SERVICES -->
        <div class="section">
            <h3>Services & Price</h3>

            {% if provider.services %}
                {% for service, price in provider.services.items %}
                    <div class="service-row">
                        <input type="text" name="service_name_{{ forloop.counter }}" value="{{ service }}">
                        <input type="number" name="price_{{ forloop.counter }}" value="{{ price }}">
                    </div>
                {% endfor %}
            {% endif %}

            <!-- Extra empty row -->
            <div class="service-row">
                <input type="text" name="service_name_new" placeholder="New Service">
                <input type="number" name="price_new" placeholder="Price">
            </div>
        </div>

        <!-- ACTION BUTTONS -->
        <div class="action-bar">
            <button type="submit" class="save-btn">Save Changes</button>
            <a href="{% url 'provider_home' %}" class="cancel-btn">Cancel</a>
        </div>

    </form>

</div>

</body>
</html>